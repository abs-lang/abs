<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Configuring the REPL | The ABS programing language</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;500&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@300;400;500;700;900&amp;display=swap">
    <meta name="description" content="Home of the ABS programming language: the joy of shell scripting.">
    <meta name="theme-color" content="#ec5975">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.2f039b9c.css" as="style"><link rel="preload" href="/assets/js/app.5b6b51f1.js" as="script"><link rel="preload" href="/assets/js/2.9eadad48.js" as="script"><link rel="preload" href="/assets/js/1.f429aa72.js" as="script"><link rel="preload" href="/assets/js/29.8b44a1bf.js" as="script"><link rel="prefetch" href="/assets/js/100.0e30a071.js"><link rel="prefetch" href="/assets/js/101.8f926f45.js"><link rel="prefetch" href="/assets/js/102.02ae503e.js"><link rel="prefetch" href="/assets/js/103.d7983ba2.js"><link rel="prefetch" href="/assets/js/104.68ac2db6.js"><link rel="prefetch" href="/assets/js/105.e0c6d089.js"><link rel="prefetch" href="/assets/js/106.b740d2c7.js"><link rel="prefetch" href="/assets/js/107.0cd7a9f3.js"><link rel="prefetch" href="/assets/js/108.56f07389.js"><link rel="prefetch" href="/assets/js/109.1a4a8a3d.js"><link rel="prefetch" href="/assets/js/110.0d510989.js"><link rel="prefetch" href="/assets/js/111.d2cf7a64.js"><link rel="prefetch" href="/assets/js/112.7106f736.js"><link rel="prefetch" href="/assets/js/113.b6532d52.js"><link rel="prefetch" href="/assets/js/114.d8fafaef.js"><link rel="prefetch" href="/assets/js/115.7b8114c9.js"><link rel="prefetch" href="/assets/js/116.7b22a1c0.js"><link rel="prefetch" href="/assets/js/117.1c7239e1.js"><link rel="prefetch" href="/assets/js/118.21336e7b.js"><link rel="prefetch" href="/assets/js/119.6c30a720.js"><link rel="prefetch" href="/assets/js/12.5188bbc0.js"><link rel="prefetch" href="/assets/js/120.2ce9c8ee.js"><link rel="prefetch" href="/assets/js/121.5392c751.js"><link rel="prefetch" href="/assets/js/13.f3bb482e.js"><link rel="prefetch" href="/assets/js/14.0c2f1421.js"><link rel="prefetch" href="/assets/js/15.54e281ae.js"><link rel="prefetch" href="/assets/js/16.995c7fa5.js"><link rel="prefetch" href="/assets/js/17.dc666d2b.js"><link rel="prefetch" href="/assets/js/18.017a8d2f.js"><link rel="prefetch" href="/assets/js/19.77087943.js"><link rel="prefetch" href="/assets/js/20.4f6c2fc7.js"><link rel="prefetch" href="/assets/js/21.34059c5b.js"><link rel="prefetch" href="/assets/js/22.350028a7.js"><link rel="prefetch" href="/assets/js/23.84f549df.js"><link rel="prefetch" href="/assets/js/24.70a676ea.js"><link rel="prefetch" href="/assets/js/25.b01f0e75.js"><link rel="prefetch" href="/assets/js/26.3cd1e824.js"><link rel="prefetch" href="/assets/js/27.af6a9cfa.js"><link rel="prefetch" href="/assets/js/28.ec81d73d.js"><link rel="prefetch" href="/assets/js/3.168aab83.js"><link rel="prefetch" href="/assets/js/30.5bc1e62b.js"><link rel="prefetch" href="/assets/js/31.4570813d.js"><link rel="prefetch" href="/assets/js/32.f67037f3.js"><link rel="prefetch" href="/assets/js/33.580f334a.js"><link rel="prefetch" href="/assets/js/34.d5d75fa7.js"><link rel="prefetch" href="/assets/js/35.cef70e63.js"><link rel="prefetch" href="/assets/js/36.2455c40a.js"><link rel="prefetch" href="/assets/js/37.f2a6f6a9.js"><link rel="prefetch" href="/assets/js/38.ab858fd0.js"><link rel="prefetch" href="/assets/js/39.c21a1434.js"><link rel="prefetch" href="/assets/js/4.e548210f.js"><link rel="prefetch" href="/assets/js/40.1da28282.js"><link rel="prefetch" href="/assets/js/41.001298a7.js"><link rel="prefetch" href="/assets/js/42.8b4a5a05.js"><link rel="prefetch" href="/assets/js/43.1d0e8f90.js"><link rel="prefetch" href="/assets/js/44.909b68fc.js"><link rel="prefetch" href="/assets/js/45.86b70305.js"><link rel="prefetch" href="/assets/js/46.7149fd1e.js"><link rel="prefetch" href="/assets/js/47.2da70def.js"><link rel="prefetch" href="/assets/js/48.bb547171.js"><link rel="prefetch" href="/assets/js/49.94e94e17.js"><link rel="prefetch" href="/assets/js/5.19aea3eb.js"><link rel="prefetch" href="/assets/js/50.b025f422.js"><link rel="prefetch" href="/assets/js/51.1cdfc390.js"><link rel="prefetch" href="/assets/js/52.3ec5a709.js"><link rel="prefetch" href="/assets/js/53.5851a623.js"><link rel="prefetch" href="/assets/js/54.465c1033.js"><link rel="prefetch" href="/assets/js/55.58a5e4f2.js"><link rel="prefetch" href="/assets/js/56.c5a49b39.js"><link rel="prefetch" href="/assets/js/57.8dacfacb.js"><link rel="prefetch" href="/assets/js/58.7feaa12a.js"><link rel="prefetch" href="/assets/js/59.49be7fb4.js"><link rel="prefetch" href="/assets/js/6.12ea75df.js"><link rel="prefetch" href="/assets/js/60.c9f877c4.js"><link rel="prefetch" href="/assets/js/61.41402b1f.js"><link rel="prefetch" href="/assets/js/62.a56f6729.js"><link rel="prefetch" href="/assets/js/63.92134bdb.js"><link rel="prefetch" href="/assets/js/64.ddc094fc.js"><link rel="prefetch" href="/assets/js/65.4169aab1.js"><link rel="prefetch" href="/assets/js/66.74d79156.js"><link rel="prefetch" href="/assets/js/67.cc01577c.js"><link rel="prefetch" href="/assets/js/68.8333840b.js"><link rel="prefetch" href="/assets/js/69.fd436613.js"><link rel="prefetch" href="/assets/js/7.35a634be.js"><link rel="prefetch" href="/assets/js/70.95948ab0.js"><link rel="prefetch" href="/assets/js/71.f34de52d.js"><link rel="prefetch" href="/assets/js/72.43f0f21c.js"><link rel="prefetch" href="/assets/js/73.7a7c1b60.js"><link rel="prefetch" href="/assets/js/74.848b5521.js"><link rel="prefetch" href="/assets/js/75.bf46fded.js"><link rel="prefetch" href="/assets/js/76.47bbfc94.js"><link rel="prefetch" href="/assets/js/77.6d167624.js"><link rel="prefetch" href="/assets/js/78.5467f2d1.js"><link rel="prefetch" href="/assets/js/79.7f600e80.js"><link rel="prefetch" href="/assets/js/8.d2054964.js"><link rel="prefetch" href="/assets/js/80.ed0b30d3.js"><link rel="prefetch" href="/assets/js/81.91e990cd.js"><link rel="prefetch" href="/assets/js/82.23e74984.js"><link rel="prefetch" href="/assets/js/83.1cb8d61c.js"><link rel="prefetch" href="/assets/js/84.f8fb6903.js"><link rel="prefetch" href="/assets/js/85.ac3cc503.js"><link rel="prefetch" href="/assets/js/86.d470b39d.js"><link rel="prefetch" href="/assets/js/87.ecb58178.js"><link rel="prefetch" href="/assets/js/88.d403d387.js"><link rel="prefetch" href="/assets/js/89.690c9003.js"><link rel="prefetch" href="/assets/js/9.8205c5bb.js"><link rel="prefetch" href="/assets/js/90.fb7c7538.js"><link rel="prefetch" href="/assets/js/91.cbb07b7b.js"><link rel="prefetch" href="/assets/js/92.61406345.js"><link rel="prefetch" href="/assets/js/93.8d9bcb03.js"><link rel="prefetch" href="/assets/js/94.6da012e7.js"><link rel="prefetch" href="/assets/js/95.93e4d66b.js"><link rel="prefetch" href="/assets/js/96.b98fe530.js"><link rel="prefetch" href="/assets/js/97.406576ac.js"><link rel="prefetch" href="/assets/js/98.7886617d.js"><link rel="prefetch" href="/assets/js/99.5c9fd90f.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.7c5a0803.js">
    <link rel="stylesheet" href="/assets/css/0.styles.2f039b9c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/abs-horizontal.png" alt="The ABS programing language" class="logo"> <span class="site-name can-hide">The ABS programing language</span></a> <div class="links"><!----> <nav class="nav-links can-hide"><div class="nav-item"><a href="/quickstart/" class="nav-link">
  Quick start
</a></div><div class="nav-item"><a href="/docs/" class="nav-link">
  Docs
</a></div><div class="nav-item"><a href="/playground/" class="nav-link">
  Playground
</a></div> <a href="https://github.com/abs-lang/abs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/quickstart/" class="nav-link">
  Quick start
</a></div><div class="nav-item"><a href="/docs/" class="nav-link">
  Docs
</a></div><div class="nav-item"><a href="/playground/" class="nav-link">
  Playground
</a></div> <a href="https://github.com/abs-lang/abs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/docs/" class="sidebar-link">Getting Started</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Syntax</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/syntax/assignments/" class="sidebar-link">Assignments</a></li><li><a href="/syntax/return/" class="sidebar-link">Returning values</a></li><li><a href="/syntax/if/" class="sidebar-link">If ... else</a></li><li><a href="/syntax/for/" class="sidebar-link">For loops</a></li><li><a href="/syntax/while/" class="sidebar-link">While</a></li><li><a href="/syntax/system-commands/" class="sidebar-link">System (shell) commands</a></li><li><a href="/syntax/operators/" class="sidebar-link">Operators</a></li><li><a href="/syntax/comments/" class="sidebar-link">Comments</a></li><li><a href="/syntax/defer/" class="sidebar-link">Defer</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Types and Functions</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/types/string/" class="sidebar-link">String</a></li><li><a href="/types/number/" class="sidebar-link">Number</a></li><li><a href="/types/array/" class="sidebar-link">Array</a></li><li><a href="/types/hash/" class="sidebar-link">Hash</a></li><li><a href="/types/function/" class="sidebar-link">Function</a></li><li><a href="/types/builtin-function/" class="sidebar-link">Builtin function</a></li><li><a href="/types/decorator/" class="sidebar-link">Decorator</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Standard Library</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/stdlib/intro/" class="sidebar-link">Standard library</a></li><li><a href="/stdlib/runtime/" class="sidebar-link">@runtime</a></li><li><a href="/stdlib/cli/" class="sidebar-link">@cli</a></li><li><a href="/stdlib/util/" class="sidebar-link">@util</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Miscellaneous</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/misc/3pl/" class="sidebar-link">Installing 3rd party libraries</a></li><li><a href="/misc/error/" class="sidebar-link">Errors</a></li><li><a href="/misc/configuring-the-repl/" aria-current="page" class="active sidebar-link">Configuring the REPL</a></li><li><a href="/misc/runtime/" class="sidebar-link">Runtime</a></li><li><a href="/misc/technical-details/" class="sidebar-link">A few technical details...</a></li><li><a href="/misc/upgrade-from-abs-1-to-2/" class="sidebar-link">Upgrading from ABS 1 to 2</a></li><li><a href="/misc/credits/" class="sidebar-link">Credits</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="configuring-the-repl"><a href="#configuring-the-repl" class="header-anchor">#</a> Configuring the REPL</h1> <p>Interactive REPL sessions can restore and save the command
history to a history file containing a maximum number of command lines.</p> <p>The prompt live history is restored from the history file when
the REPL starts and then saved again when the REPL exits. This way you
can navigate through the command lines from your previous sessions
by using the up and down arrow keys at the prompt.</p> <p>Note well that the live prompt history will show duplicate command
lines, but the saved history will only contain a single command
when the previous command and the current command are the same.</p> <p>The history file name and the maximum number of history lines are
configurable through:</p> <ul><li>the ABS environment (set by the ABS init file; see below)</li> <li>the OS environment</li> <li>The default values are <code>ABS_HISTORY_FILE=&quot;~/.abs_history&quot;</code> and <code>ABS_MAX_HISTORY_LINES=1000</code>.</li></ul> <p>If you wish to suppress the command line history completely, just
set <code>ABS_MAX_HISTORY_LINES=0</code>. In this case the history file
will not be created.</p> <p>For example:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token builtin class-name">export</span> <span class="token assign-left variable">ABS_HISTORY_FILE</span><span class="token operator">=</span><span class="token string">&quot;~/my_abs_hist&quot;</span>
$ <span class="token builtin class-name">export</span> <span class="token assign-left variable">ABS_MAX_HISTORY_LINES</span><span class="token operator">=</span><span class="token number">500</span>
$ abs
Hello user, welcome to the ABS <span class="token punctuation">(</span><span class="token number">1.1</span>.0<span class="token punctuation">)</span> programming language<span class="token operator">!</span>
Type <span class="token string">'quit'</span> when you are done, <span class="token string">'help'</span> <span class="token keyword">if</span> you get lost<span class="token operator">!</span>
⧐  pwd<span class="token punctuation">(</span><span class="token punctuation">)</span>
/home/user/git/abs
⧐  cd<span class="token punctuation">(</span><span class="token punctuation">)</span>
/home/user
⧐  echo<span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span>
hello
⧐  quit
Adios<span class="token operator">!</span>

$ <span class="token function">cat</span> ~/my_abs_hist`<span class="token punctuation">;</span> <span class="token builtin class-name">echo</span>
pwd<span class="token punctuation">(</span><span class="token punctuation">)</span>
cd<span class="token punctuation">(</span><span class="token punctuation">)</span>
echo<span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span>
$
</code></pre></div><h2 id="configuring-the-abs-repl-command-line-prompt"><a href="#configuring-the-abs-repl-command-line-prompt" class="header-anchor">#</a> Configuring the ABS REPL Command Line Prompt</h2> <p>The ABS REPL command line prompt may be configured at start up using
<code>ABS_PROMPT_LIVE_PREFIX</code> and <code>ABS_PROMPT_PREFIX</code> variables from either
the ABS or OS environments. The default values are
<code>ABS_PROMPT_LIVE_PREFIX=false</code> and <code>ABS_PROMPT_PREFIX=&quot;⧐ &quot;</code>.</p> <p>REPL &quot;static prompt&quot; mode will be configured if <code>ABS_PROMPT_PREFIX</code>
contains no live prompt <code>template string</code> or if
<code>ABS_PROMPT_LIVE_PREFIX=false</code>. The <code>static prompt</code> will be the
value of the <code>ABS_PROMPT_PREFIX</code> string (if present) or the default
prompt <code>&quot;⧐ &quot;</code>. Static prompt mode is the default for the REPL.</p> <p>REPL &quot;live prompt&quot; mode follows the current working directory
set by <code>cd()</code> when both <code>ABS_PROMPT_LIVE_PREFIX=true</code> and the
<code>ABS_PROMPT_PREFIX</code> variable contains a live prompt <code>template string</code>.</p> <p>A live prompt <code>template string</code> may contain the following
named placeholders:</p> <ul><li><code>{user}</code>: the current userId</li> <li><code>{host}</code>: the local hostname</li> <li><code>{dir}</code>: the current working directory following <code>cd()</code></li></ul> <p>For example, you can create a <code>bash</code>-style live prompt:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">cat</span> ~/.absrc
<span class="token comment"># ABS init script ~/.absrc</span>
<span class="token comment"># For interactive REPL, override default prompt, history filename and size</span>
<span class="token keyword">if</span> ABS_INTERACTIVE <span class="token punctuation">{</span>
    ABS_PROMPT_LIVE_PREFIX <span class="token operator">=</span> <span class="token boolean">true</span>
    ABS_PROMPT_PREFIX <span class="token operator">=</span> <span class="token string">&quot;{user}@{host}:{dir}$ &quot;</span>
    ABS_HISTORY_FILE <span class="token operator">=</span> <span class="token string">&quot;~/.abs_hist&quot;</span>
    ABS_MAX_HISTORY_LINES <span class="token operator">=</span> <span class="token number">500</span>
<span class="token punctuation">}</span>

$ abs
Hello user, welcome to the ABS <span class="token punctuation">(</span><span class="token number">1.1</span>.0<span class="token punctuation">)</span> programming language<span class="token operator">!</span>
Type <span class="token string">'quit'</span> when you are done, <span class="token string">'help'</span> <span class="token keyword">if</span> you get lost<span class="token operator">!</span>
user@hostname:~/git/abs$ cwd <span class="token operator">=</span> cd<span class="token punctuation">(</span><span class="token punctuation">)</span>
user@hostname:~$ <span class="token variable"><span class="token variable">`</span><span class="token function">ls</span> .absrc<span class="token variable">`</span></span>
.absrc
user@hostname:~$
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/misc/error/" class="prev">
        Errors
      </a></span> <span class="next"><a href="/misc/runtime/">
        Runtime
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.5b6b51f1.js" defer></script><script src="/assets/js/2.9eadad48.js" defer></script><script src="/assets/js/1.f429aa72.js" defer></script><script src="/assets/js/29.8b44a1bf.js" defer></script>
  </body>
</html>
