(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{475:function(t,e,s){"use strict";s.r(e);var a=s(25),n=Object(a.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"configuring-the-repl"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#configuring-the-repl"}},[t._v("#")]),t._v(" Configuring the REPL")]),t._v(" "),e("p",[t._v("Interactive REPL sessions can restore and save the command\nhistory to a history file containing a maximum number of command lines.")]),t._v(" "),e("p",[t._v("The prompt live history is restored from the history file when\nthe REPL starts and then saved again when the REPL exits. This way you\ncan navigate through the command lines from your previous sessions\nby using the up and down arrow keys at the prompt.")]),t._v(" "),e("p",[t._v("Note well that the live prompt history will show duplicate command\nlines, but the saved history will only contain a single command\nwhen the previous command and the current command are the same.")]),t._v(" "),e("p",[t._v("The history file name and the maximum number of history lines are\nconfigurable through:")]),t._v(" "),e("ul",[e("li",[t._v("the ABS environment (set by the ABS init file; see below)")]),t._v(" "),e("li",[t._v("the OS environment")]),t._v(" "),e("li",[t._v("The default values are "),e("code",[t._v('ABS_HISTORY_FILE="~/.abs_history"')]),t._v(" and "),e("code",[t._v("ABS_MAX_HISTORY_LINES=1000")]),t._v(".")])]),t._v(" "),e("p",[t._v("If you wish to suppress the command line history completely, just\nset "),e("code",[t._v("ABS_MAX_HISTORY_LINES=0")]),t._v(". In this case the history file\nwill not be created.")]),t._v(" "),e("p",[t._v("For example:")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("$ "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ABS_HISTORY_FILE")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"~/my_abs_hist"')]),t._v("\n$ "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ABS_MAX_HISTORY_LINES")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("500")]),t._v("\n$ abs\nHello user, welcome to the ABS "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.1")]),t._v(".0"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" programming language"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\nType "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'quit'")]),t._v(" when you are done, "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'help'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" you get lost"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n⧐  pwd"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n/home/user/git/abs\n⧐  cd"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n/home/user\n⧐  echo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hello"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nhello\n⧐  quit\nAdios"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" ~/my_abs_hist`"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v("\npwd"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ncd"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\necho"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hello"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n$\n")])])]),e("h2",{attrs:{id:"configuring-the-abs-repl-command-line-prompt"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#configuring-the-abs-repl-command-line-prompt"}},[t._v("#")]),t._v(" Configuring the ABS REPL Command Line Prompt")]),t._v(" "),e("p",[t._v("The ABS REPL command line prompt may be configured at start up using\n"),e("code",[t._v("ABS_PROMPT_LIVE_PREFIX")]),t._v(" and "),e("code",[t._v("ABS_PROMPT_PREFIX")]),t._v(" variables from either\nthe ABS or OS environments. The default values are\n"),e("code",[t._v("ABS_PROMPT_LIVE_PREFIX=false")]),t._v(" and "),e("code",[t._v('ABS_PROMPT_PREFIX="⧐ "')]),t._v(".")]),t._v(" "),e("p",[t._v('REPL "static prompt" mode will be configured if '),e("code",[t._v("ABS_PROMPT_PREFIX")]),t._v("\ncontains no live prompt "),e("code",[t._v("template string")]),t._v(" or if\n"),e("code",[t._v("ABS_PROMPT_LIVE_PREFIX=false")]),t._v(". The "),e("code",[t._v("static prompt")]),t._v(" will be the\nvalue of the "),e("code",[t._v("ABS_PROMPT_PREFIX")]),t._v(" string (if present) or the default\nprompt "),e("code",[t._v('"⧐ "')]),t._v(". Static prompt mode is the default for the REPL.")]),t._v(" "),e("p",[t._v('REPL "live prompt" mode follows the current working directory\nset by '),e("code",[t._v("cd()")]),t._v(" when both "),e("code",[t._v("ABS_PROMPT_LIVE_PREFIX=true")]),t._v(" and the\n"),e("code",[t._v("ABS_PROMPT_PREFIX")]),t._v(" variable contains a live prompt "),e("code",[t._v("template string")]),t._v(".")]),t._v(" "),e("p",[t._v("A live prompt "),e("code",[t._v("template string")]),t._v(" may contain the following\nnamed placeholders:")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("{user}")]),t._v(": the current userId")]),t._v(" "),e("li",[e("code",[t._v("{host}")]),t._v(": the local hostname")]),t._v(" "),e("li",[e("code",[t._v("{dir}")]),t._v(": the current working directory following "),e("code",[t._v("cd()")])])]),t._v(" "),e("p",[t._v("For example, you can create a "),e("code",[t._v("bash")]),t._v("-style live prompt:")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" ~/.absrc\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ABS init script ~/.absrc")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# For interactive REPL, override default prompt, history filename and size")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" ABS_INTERACTIVE "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    ABS_PROMPT_LIVE_PREFIX "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n    ABS_PROMPT_PREFIX "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{user}@{host}:{dir}$ "')]),t._v("\n    ABS_HISTORY_FILE "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"~/.abs_hist"')]),t._v("\n    ABS_MAX_HISTORY_LINES "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("500")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n$ abs\nHello user, welcome to the ABS "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.1")]),t._v(".0"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" programming language"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\nType "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'quit'")]),t._v(" when you are done, "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'help'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" you get lost"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\nuser@hostname:~/git/abs$ cwd "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" cd"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nuser@hostname:~$ "),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("ls")]),t._v(" .absrc"),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),t._v("\n.absrc\nuser@hostname:~$\n")])])])])}),[],!1,null,null,null);e.default=n.exports}}]);