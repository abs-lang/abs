<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>A few technical details... | The ABS programing language</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;500&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@300;400;500;700;900&amp;display=swap">
    <meta name="description" content="Home of the ABS programming language: the joy of shell scripting.">
    <meta name="theme-color" content="#ec5975">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.2f039b9c.css" as="style"><link rel="preload" href="/assets/js/app.cf29175a.js" as="script"><link rel="preload" href="/assets/js/2.9eadad48.js" as="script"><link rel="preload" href="/assets/js/1.f429aa72.js" as="script"><link rel="preload" href="/assets/js/33.580f334a.js" as="script"><link rel="prefetch" href="/assets/js/100.0e30a071.js"><link rel="prefetch" href="/assets/js/101.8f926f45.js"><link rel="prefetch" href="/assets/js/102.02ae503e.js"><link rel="prefetch" href="/assets/js/103.d7983ba2.js"><link rel="prefetch" href="/assets/js/104.68ac2db6.js"><link rel="prefetch" href="/assets/js/105.e0c6d089.js"><link rel="prefetch" href="/assets/js/106.b740d2c7.js"><link rel="prefetch" href="/assets/js/107.0cd7a9f3.js"><link rel="prefetch" href="/assets/js/108.56f07389.js"><link rel="prefetch" href="/assets/js/109.1a4a8a3d.js"><link rel="prefetch" href="/assets/js/110.0d510989.js"><link rel="prefetch" href="/assets/js/111.d2cf7a64.js"><link rel="prefetch" href="/assets/js/112.7106f736.js"><link rel="prefetch" href="/assets/js/113.b6532d52.js"><link rel="prefetch" href="/assets/js/114.d8fafaef.js"><link rel="prefetch" href="/assets/js/115.7b8114c9.js"><link rel="prefetch" href="/assets/js/116.7b22a1c0.js"><link rel="prefetch" href="/assets/js/117.1c7239e1.js"><link rel="prefetch" href="/assets/js/118.21336e7b.js"><link rel="prefetch" href="/assets/js/119.6c30a720.js"><link rel="prefetch" href="/assets/js/12.5188bbc0.js"><link rel="prefetch" href="/assets/js/120.2ce9c8ee.js"><link rel="prefetch" href="/assets/js/121.5392c751.js"><link rel="prefetch" href="/assets/js/13.f3bb482e.js"><link rel="prefetch" href="/assets/js/14.0c2f1421.js"><link rel="prefetch" href="/assets/js/15.54e281ae.js"><link rel="prefetch" href="/assets/js/16.995c7fa5.js"><link rel="prefetch" href="/assets/js/17.dc666d2b.js"><link rel="prefetch" href="/assets/js/18.017a8d2f.js"><link rel="prefetch" href="/assets/js/19.77087943.js"><link rel="prefetch" href="/assets/js/20.4f6c2fc7.js"><link rel="prefetch" href="/assets/js/21.34059c5b.js"><link rel="prefetch" href="/assets/js/22.350028a7.js"><link rel="prefetch" href="/assets/js/23.84f549df.js"><link rel="prefetch" href="/assets/js/24.70a676ea.js"><link rel="prefetch" href="/assets/js/25.b01f0e75.js"><link rel="prefetch" href="/assets/js/26.3cd1e824.js"><link rel="prefetch" href="/assets/js/27.af6a9cfa.js"><link rel="prefetch" href="/assets/js/28.7fd4eb8d.js"><link rel="prefetch" href="/assets/js/29.12bd5e3b.js"><link rel="prefetch" href="/assets/js/3.168aab83.js"><link rel="prefetch" href="/assets/js/30.8bad4015.js"><link rel="prefetch" href="/assets/js/31.bb09c4e9.js"><link rel="prefetch" href="/assets/js/32.1fe0b79b.js"><link rel="prefetch" href="/assets/js/34.d5d75fa7.js"><link rel="prefetch" href="/assets/js/35.cef70e63.js"><link rel="prefetch" href="/assets/js/36.7b33cc46.js"><link rel="prefetch" href="/assets/js/37.cc58298e.js"><link rel="prefetch" href="/assets/js/38.ab858fd0.js"><link rel="prefetch" href="/assets/js/39.c21a1434.js"><link rel="prefetch" href="/assets/js/4.e548210f.js"><link rel="prefetch" href="/assets/js/40.1da28282.js"><link rel="prefetch" href="/assets/js/41.001298a7.js"><link rel="prefetch" href="/assets/js/42.8b4a5a05.js"><link rel="prefetch" href="/assets/js/43.1d0e8f90.js"><link rel="prefetch" href="/assets/js/44.909b68fc.js"><link rel="prefetch" href="/assets/js/45.86b70305.js"><link rel="prefetch" href="/assets/js/46.7149fd1e.js"><link rel="prefetch" href="/assets/js/47.2da70def.js"><link rel="prefetch" href="/assets/js/48.bb547171.js"><link rel="prefetch" href="/assets/js/49.94e94e17.js"><link rel="prefetch" href="/assets/js/5.19aea3eb.js"><link rel="prefetch" href="/assets/js/50.b025f422.js"><link rel="prefetch" href="/assets/js/51.1cdfc390.js"><link rel="prefetch" href="/assets/js/52.3ec5a709.js"><link rel="prefetch" href="/assets/js/53.5851a623.js"><link rel="prefetch" href="/assets/js/54.465c1033.js"><link rel="prefetch" href="/assets/js/55.58a5e4f2.js"><link rel="prefetch" href="/assets/js/56.c5a49b39.js"><link rel="prefetch" href="/assets/js/57.8dacfacb.js"><link rel="prefetch" href="/assets/js/58.7feaa12a.js"><link rel="prefetch" href="/assets/js/59.49be7fb4.js"><link rel="prefetch" href="/assets/js/6.12ea75df.js"><link rel="prefetch" href="/assets/js/60.c9f877c4.js"><link rel="prefetch" href="/assets/js/61.41402b1f.js"><link rel="prefetch" href="/assets/js/62.a56f6729.js"><link rel="prefetch" href="/assets/js/63.92134bdb.js"><link rel="prefetch" href="/assets/js/64.ddc094fc.js"><link rel="prefetch" href="/assets/js/65.4169aab1.js"><link rel="prefetch" href="/assets/js/66.74d79156.js"><link rel="prefetch" href="/assets/js/67.cc01577c.js"><link rel="prefetch" href="/assets/js/68.8333840b.js"><link rel="prefetch" href="/assets/js/69.fd436613.js"><link rel="prefetch" href="/assets/js/7.35a634be.js"><link rel="prefetch" href="/assets/js/70.95948ab0.js"><link rel="prefetch" href="/assets/js/71.f34de52d.js"><link rel="prefetch" href="/assets/js/72.43f0f21c.js"><link rel="prefetch" href="/assets/js/73.7a7c1b60.js"><link rel="prefetch" href="/assets/js/74.848b5521.js"><link rel="prefetch" href="/assets/js/75.bf46fded.js"><link rel="prefetch" href="/assets/js/76.47bbfc94.js"><link rel="prefetch" href="/assets/js/77.6d167624.js"><link rel="prefetch" href="/assets/js/78.5467f2d1.js"><link rel="prefetch" href="/assets/js/79.7f600e80.js"><link rel="prefetch" href="/assets/js/8.d2054964.js"><link rel="prefetch" href="/assets/js/80.ed0b30d3.js"><link rel="prefetch" href="/assets/js/81.91e990cd.js"><link rel="prefetch" href="/assets/js/82.23e74984.js"><link rel="prefetch" href="/assets/js/83.1cb8d61c.js"><link rel="prefetch" href="/assets/js/84.f8fb6903.js"><link rel="prefetch" href="/assets/js/85.ac3cc503.js"><link rel="prefetch" href="/assets/js/86.d470b39d.js"><link rel="prefetch" href="/assets/js/87.ecb58178.js"><link rel="prefetch" href="/assets/js/88.d403d387.js"><link rel="prefetch" href="/assets/js/89.690c9003.js"><link rel="prefetch" href="/assets/js/9.8205c5bb.js"><link rel="prefetch" href="/assets/js/90.fb7c7538.js"><link rel="prefetch" href="/assets/js/91.cbb07b7b.js"><link rel="prefetch" href="/assets/js/92.61406345.js"><link rel="prefetch" href="/assets/js/93.8d9bcb03.js"><link rel="prefetch" href="/assets/js/94.6da012e7.js"><link rel="prefetch" href="/assets/js/95.93e4d66b.js"><link rel="prefetch" href="/assets/js/96.b98fe530.js"><link rel="prefetch" href="/assets/js/97.406576ac.js"><link rel="prefetch" href="/assets/js/98.7886617d.js"><link rel="prefetch" href="/assets/js/99.5c9fd90f.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.7c5a0803.js">
    <link rel="stylesheet" href="/assets/css/0.styles.2f039b9c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/abs-horizontal.png" alt="The ABS programing language" class="logo"> <span class="site-name can-hide">The ABS programing language</span></a> <div class="links"><!----> <nav class="nav-links can-hide"><div class="nav-item"><a href="/quickstart/" class="nav-link">
  Quick start
</a></div><div class="nav-item"><a href="/docs/" class="nav-link">
  Docs
</a></div><div class="nav-item"><a href="/playground/" class="nav-link">
  Playground
</a></div> <a href="https://github.com/abs-lang/abs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/quickstart/" class="nav-link">
  Quick start
</a></div><div class="nav-item"><a href="/docs/" class="nav-link">
  Docs
</a></div><div class="nav-item"><a href="/playground/" class="nav-link">
  Playground
</a></div> <a href="https://github.com/abs-lang/abs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/docs/" class="sidebar-link">Getting Started</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Syntax</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/syntax/assignments/" class="sidebar-link">Assignments</a></li><li><a href="/syntax/return/" class="sidebar-link">Returning values</a></li><li><a href="/syntax/if/" class="sidebar-link">If ... else</a></li><li><a href="/syntax/for/" class="sidebar-link">For loops</a></li><li><a href="/syntax/while/" class="sidebar-link">While</a></li><li><a href="/syntax/system-commands/" class="sidebar-link">System (shell) commands</a></li><li><a href="/syntax/operators/" class="sidebar-link">Operators</a></li><li><a href="/syntax/comments/" class="sidebar-link">Comments</a></li><li><a href="/syntax/defer/" class="sidebar-link">Defer</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Types and Functions</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/types/string/" class="sidebar-link">String</a></li><li><a href="/types/number/" class="sidebar-link">Number</a></li><li><a href="/types/array/" class="sidebar-link">Array</a></li><li><a href="/types/hash/" class="sidebar-link">Hash</a></li><li><a href="/types/function/" class="sidebar-link">Function</a></li><li><a href="/types/builtin-function/" class="sidebar-link">Builtin function</a></li><li><a href="/types/decorator/" class="sidebar-link">Decorator</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Standard Library</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/stdlib/intro/" class="sidebar-link">Standard library</a></li><li><a href="/stdlib/runtime/" class="sidebar-link">@runtime</a></li><li><a href="/stdlib/cli/" class="sidebar-link">@cli</a></li><li><a href="/stdlib/util/" class="sidebar-link">@util</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Miscellaneous</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/misc/3pl/" class="sidebar-link">Installing 3rd party libraries</a></li><li><a href="/misc/error/" class="sidebar-link">Errors</a></li><li><a href="/misc/configuring-the-repl/" class="sidebar-link">Configuring the REPL</a></li><li><a href="/misc/runtime/" class="sidebar-link">Runtime</a></li><li><a href="/misc/technical-details/" aria-current="page" class="active sidebar-link">A few technical details...</a></li><li><a href="/misc/upgrade-from-abs-1-to-2/" class="sidebar-link">Upgrading from ABS 1 to 2</a></li><li><a href="/misc/credits/" class="sidebar-link">Credits</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="a-few-technical-details"><a href="#a-few-technical-details" class="header-anchor">#</a> A few technical details...</h1> <p>The ABS interpreter is built with Golang version <code>1.18</code>, and is mostly based on <a href="https://interpreterbook.com/" target="_blank" rel="noopener noreferrer">the interpreter book<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> written by <a href="https://twitter.com/thorstenball" target="_blank" rel="noopener noreferrer">Thorsten Ball<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>ABS is extremely different from Monkey, the &quot;fictional&quot; language the reader builds throughout the book, but the base structure (lexer, parser, evaluator) are still very much based on Thorsten's work.</p> <h2 id="why-is-abs-interpreted"><a href="#why-is-abs-interpreted" class="header-anchor">#</a> Why is ABS interpreted?</h2> <p>ABS' goal is to be a portable, pragmatic, concise, simple language:
great performance comes second.</p> <p>With this in mind, we made a deliberate choice to avoid
compiling ABS code, as it would require additional complexity
in the codebase, with very little benefits. Tell us, when
was the last time you were interested in how many milliseconds
it took to run a Bash script?</p> <h2 id="why-go"><a href="#why-go" class="header-anchor">#</a> Why Go?</h2> <p>There are multiple reasons Go is the ideal choice for ABS, in no
particular order:</p> <ul><li>portability, as our goal is to be able to deliver ABS to
multiple platforms without any hassle</li> <li>performance, as ABS' itself is not big on performance: having the
interpreter based on a fast platform allows us to recover
something back</li> <li>&quot;strict&quot; language, suitable for the purpose of making sure
syntax / parser errors are easily caught</li> <li>rich standard library, which allows to ship most of the ABS'
interpreter without relying on many external dependencies</li></ul> <h2 id="development-contributing"><a href="#development-contributing" class="header-anchor">#</a> Development &amp; contributing</h2> <p>Please see <a href="https://github.com/abs-lang/abs/blob/master/CONTRIBUTING.md" target="_blank" rel="noopener noreferrer">github.com/abs-lang/abs/blob/master/CONTRIBUTING.md<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="testing"><a href="#testing" class="header-anchor">#</a> Testing</h2> <h3 id="interpreter-error-location"><a href="#interpreter-error-location" class="header-anchor">#</a> Interpreter Error Location</h3> <p>You can run the interpreter error location tests by invoking this bash script: <code>tests/test-abs.sh</code>. This script iterates over the <code>test-parser.abs</code> and <code>test-eval.abs</code> test scripts.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ tests/test-abs.sh
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
Test Parser
tests/test-parser.abs
 parser errors:
	no prefix parse <span class="token keyword">function</span> <span class="token keyword">for</span> <span class="token string">'='</span> found
	<span class="token punctuation">[</span><span class="token number">4</span>:5<span class="token punctuation">]</span>	m.a <span class="token operator">=</span> <span class="token string">'abc'</span>
	no prefix parse <span class="token keyword">function</span> <span class="token keyword">for</span> <span class="token string">'='</span> found
	<span class="token punctuation">[</span><span class="token number">7</span>:5<span class="token punctuation">]</span>	d/d <span class="token operator">=</span> <span class="token variable"><span class="token variable">`</span><span class="token builtin class-name">command</span><span class="token variable">`</span></span><span class="token punctuation">;</span>
	no prefix parse <span class="token keyword">function</span> <span class="token keyword">for</span> <span class="token string">'='</span> found
	<span class="token punctuation">[</span><span class="token number">10</span>:5<span class="token punctuation">]</span>	c/c <span class="token operator">=</span> <span class="token variable"><span class="token variable">`</span><span class="token builtin class-name">command</span><span class="token variable">`</span></span>
	no prefix parse <span class="token keyword">function</span> <span class="token keyword">for</span> <span class="token string">'%'</span> found
	<span class="token punctuation">[</span><span class="token number">13</span>:4<span class="token punctuation">]</span>	b %% c
	no prefix parse <span class="token keyword">function</span> <span class="token keyword">for</span> <span class="token string">'&amp;&amp;'</span> found
	<span class="token punctuation">[</span><span class="token number">22</span>:1<span class="token punctuation">]</span>	<span class="token operator">&amp;&amp;</span><span class="token operator">||</span><span class="token operator">!</span>-/*5<span class="token punctuation">;</span>
	no prefix parse <span class="token keyword">function</span> <span class="token keyword">for</span> <span class="token string">'||'</span> found
	<span class="token punctuation">[</span><span class="token number">22</span>:3<span class="token punctuation">]</span>	<span class="token operator">&amp;&amp;</span><span class="token operator">||</span><span class="token operator">!</span>-/*5<span class="token punctuation">;</span>
	no prefix parse <span class="token keyword">function</span> <span class="token keyword">for</span> <span class="token string">'/'</span> found
	<span class="token punctuation">[</span><span class="token number">22</span>:7<span class="token punctuation">]</span>	<span class="token operator">&amp;&amp;</span><span class="token operator">||</span><span class="token operator">!</span>-/*5<span class="token punctuation">;</span>
	no prefix parse <span class="token keyword">function</span> <span class="token keyword">for</span> <span class="token string">'&lt;=&gt;'</span> found
	<span class="token punctuation">[</span><span class="token number">25</span>:2<span class="token punctuation">]</span>	<span class="token operator">&lt;=</span><span class="token operator">&gt;</span>
	expected next token to be NUMBER, got , instead
	<span class="token punctuation">[</span><span class="token number">44</span>:2<span class="token punctuation">]</span>	<span class="token punctuation">[</span><span class="token number">1</span>, <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	no prefix parse <span class="token keyword">function</span> <span class="token keyword">for</span> <span class="token string">','</span> found
	<span class="token punctuation">[</span><span class="token number">44</span>:3<span class="token punctuation">]</span>	<span class="token punctuation">[</span><span class="token number">1</span>, <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	no prefix parse <span class="token keyword">function</span> <span class="token keyword">for</span> <span class="token string">']'</span> found
	<span class="token punctuation">[</span><span class="token number">44</span>:6<span class="token punctuation">]</span>	<span class="token punctuation">[</span><span class="token number">1</span>, <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	no prefix parse <span class="token keyword">function</span> <span class="token keyword">for</span> <span class="token string">'%'</span> found
	<span class="token punctuation">[</span><span class="token number">68</span>:2<span class="token punctuation">]</span>	~%
	no prefix parse <span class="token keyword">function</span> <span class="token keyword">for</span> <span class="token string">'-='</span> found
	<span class="token punctuation">[</span><span class="token number">70</span>:1<span class="token punctuation">]</span>	-<span class="token operator">=</span>
	no prefix parse <span class="token keyword">function</span> <span class="token keyword">for</span> <span class="token string">'/='</span> found
	<span class="token punctuation">[</span><span class="token number">72</span>:1<span class="token punctuation">]</span>	/<span class="token operator">=</span>
	no prefix parse <span class="token keyword">function</span> <span class="token keyword">for</span> <span class="token string">'%='</span> found
	<span class="token punctuation">[</span><span class="token number">74</span>:1<span class="token punctuation">]</span>	%<span class="token operator">=</span>
	no prefix parse <span class="token keyword">function</span> <span class="token keyword">for</span> <span class="token string">'^'</span> found
	<span class="token punctuation">[</span><span class="token number">79</span>:2<span class="token punctuation">]</span>	<span class="token operator">&amp;</span>^<span class="token operator">&gt;&gt;</span><span class="token operator">&lt;&lt;</span>
	no prefix parse <span class="token keyword">function</span> <span class="token keyword">for</span> <span class="token string">'&lt;&lt;'</span> found
	<span class="token punctuation">[</span><span class="token number">79</span>:5<span class="token punctuation">]</span>	<span class="token operator">&amp;</span>^<span class="token operator">&gt;&gt;</span><span class="token operator">&lt;&lt;</span>
	Illegal token <span class="token string">'$111'</span>
	<span class="token punctuation">[</span><span class="token number">80</span>:1<span class="token punctuation">]</span>	<span class="token variable">$111</span>
	no prefix parse <span class="token keyword">function</span> <span class="token keyword">for</span> <span class="token string">'$111'</span> found
	<span class="token punctuation">[</span><span class="token number">80</span>:1<span class="token punctuation">]</span>	<span class="token variable">$111</span>
Exit code: <span class="token number">99</span>

<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
Test Eval<span class="token punctuation">(</span><span class="token punctuation">)</span>
tests/test-eval.abs
ERROR: <span class="token builtin class-name">type</span> mismatch: STRING + NUMBER
	<span class="token punctuation">[</span><span class="token number">8</span>:11<span class="token punctuation">]</span>	    s <span class="token operator">=</span> s + <span class="token number">1</span>   <span class="token comment"># this is a comment</span>
Exit code: <span class="token number">99</span>

ERROR: invalid property <span class="token string">'junk'</span> on <span class="token builtin class-name">type</span> ARRAY
	<span class="token punctuation">[</span><span class="token number">14</span>:6<span class="token punctuation">]</span>	    a.junk
Exit code: <span class="token number">99</span>

ERROR: index operator not supported: f<span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>x<span class="token punctuation">}</span> on HASH
	<span class="token punctuation">[</span><span class="token number">19</span>:20<span class="token punctuation">]</span>	    <span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;Abs&quot;</span><span class="token punctuation">}</span><span class="token punctuation">[</span>f<span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>x<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
Exit code: <span class="token number">99</span>
</code></pre></div><h3 id="string-tests"><a href="#string-tests" class="header-anchor">#</a> String tests</h3> <p>String handling tests can be run from <code>abs tests/test-strings.abs</code>:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ abs tests/test-strings.abs
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> Testing string with expanded LFs:
echo<span class="token punctuation">(</span><span class="token string">&quot;a<span class="token entity" title="\n">\n</span>b<span class="token entity" title="\n">\n</span>c&quot;</span><span class="token punctuation">)</span>
a
b
c
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> Testing string with expanded TABs:
echo<span class="token punctuation">(</span><span class="token string">&quot;a<span class="token entity" title="\t">\t</span>b<span class="token entity" title="\t">\t</span>c&quot;</span><span class="token punctuation">)</span>
a	b	c
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> Testing string with expanded CRs:
echo<span class="token punctuation">(</span><span class="token string">&quot;a<span class="token entity" title="\r">\r</span>b<span class="token entity" title="\r">\r</span>c&quot;</span><span class="token punctuation">)</span>
c
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> Testing string with mixed expanded LFs and escaped LFs:
echo<span class="token punctuation">(</span><span class="token string">&quot;a<span class="token entity" title="\\">\\</span>nb<span class="token entity" title="\\">\\</span>nc<span class="token entity" title="\n">\n</span>%s<span class="token entity" title="\n">\n</span>&quot;</span>, <span class="token string">&quot;x<span class="token entity" title="\n">\n</span>y<span class="token entity" title="\n">\n</span>z&quot;</span><span class="token punctuation">)</span>
a<span class="token punctuation">\</span><span class="token punctuation">\</span>nb<span class="token punctuation">\</span><span class="token punctuation">\</span>nc
x
y
z

<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> Testing string with multiple escapes:
echo<span class="token punctuation">(</span><span class="token string">&quot;hel<span class="token entity" title="\\">\\</span><span class="token entity" title="\\">\\</span>lo&quot;</span><span class="token punctuation">)</span>
hel<span class="token punctuation">\</span><span class="token punctuation">\</span><span class="token punctuation">\</span><span class="token punctuation">\</span>lo
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> Testing <span class="token function">split</span> and <span class="token function">join</span> strings with expanded LFs:
s <span class="token operator">=</span> split<span class="token punctuation">(</span><span class="token string">&quot;a<span class="token entity" title="\n">\n</span>b<span class="token entity" title="\n">\n</span>c&quot;</span>, <span class="token string">&quot;<span class="token entity" title="\n">\n</span>&quot;</span><span class="token punctuation">)</span>
echo<span class="token punctuation">(</span>s<span class="token punctuation">)</span>
<span class="token punctuation">[</span>a, b, c<span class="token punctuation">]</span>
ss <span class="token operator">=</span> join<span class="token punctuation">(</span>s, <span class="token string">&quot;<span class="token entity" title="\n">\n</span>&quot;</span><span class="token punctuation">)</span>
echo<span class="token punctuation">(</span>ss<span class="token punctuation">)</span>
a
b
c
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> Testing <span class="token function">split</span> and <span class="token function">join</span> strings with literal LFs:
s <span class="token operator">=</span> split<span class="token punctuation">(</span><span class="token string">'a\nb\nc'</span>, <span class="token string">'\n'</span><span class="token punctuation">)</span>
echo<span class="token punctuation">(</span>s<span class="token punctuation">)</span>
<span class="token punctuation">[</span>a, b, c<span class="token punctuation">]</span>
ss <span class="token operator">=</span> join<span class="token punctuation">(</span>s, <span class="token string">'\n'</span><span class="token punctuation">)</span>
echo<span class="token punctuation">(</span>ss<span class="token punctuation">)</span>
a<span class="token punctuation">\</span>nb<span class="token punctuation">\</span>nc
</code></pre></div><h3 id="array-and-hash-assignment-tests"><a href="#array-and-hash-assignment-tests" class="header-anchor">#</a> Array and hash assignment tests</h3> <p>Array and hash assignment tests can be run from <code>abs tests/test-assign-index.abs</code>:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
Test assignment to array indexed objects
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span>, <span class="token number">2</span>, <span class="token number">3</span>, <span class="token number">4</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">1</span>, <span class="token number">2</span>, <span class="token number">3</span>, <span class="token number">4</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">99</span>
<span class="token punctuation">[</span><span class="token number">99</span>, <span class="token number">2</span>, <span class="token number">3</span>, <span class="token number">4</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">10</span>
<span class="token punctuation">[</span><span class="token number">99</span>, <span class="token number">12</span>, <span class="token number">3</span>, <span class="token number">4</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a <span class="token operator">+=</span> <span class="token punctuation">[</span><span class="token number">88</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">99</span>, <span class="token number">12</span>, <span class="token number">3</span>, <span class="token number">4</span>, <span class="token number">88</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;string&quot;</span>
<span class="token punctuation">[</span><span class="token number">99</span>, <span class="token number">12</span>, string, <span class="token number">4</span>, <span class="token number">88</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">66</span>
<span class="token punctuation">[</span><span class="token number">99</span>, <span class="token number">12</span>, string, <span class="token number">4</span>, <span class="token number">88</span>, null, <span class="token number">66</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">55</span>
<span class="token punctuation">[</span><span class="token number">99</span>, <span class="token number">12</span>, string, <span class="token number">4</span>, <span class="token number">88</span>, <span class="token number">55</span>, <span class="token number">66</span><span class="token punctuation">]</span>
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
Test assignment to <span class="token builtin class-name">hash</span> indexed objects
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> h <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;a&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1</span>, <span class="token string">&quot;b&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, <span class="token string">&quot;c&quot;</span><span class="token builtin class-name">:</span> <span class="token number">3</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span>a: <span class="token number">1</span>, b: <span class="token number">2</span>, c: <span class="token number">3</span><span class="token punctuation">}</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> h<span class="token punctuation">[</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">99</span>
<span class="token punctuation">{</span>a: <span class="token number">99</span>, b: <span class="token number">2</span>, c: <span class="token number">3</span><span class="token punctuation">}</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> h<span class="token punctuation">[</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span>
<span class="token punctuation">{</span>a: <span class="token number">100</span>, b: <span class="token number">2</span>, c: <span class="token number">3</span><span class="token punctuation">}</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> h <span class="token operator">+=</span> <span class="token punctuation">{</span><span class="token string">&quot;c&quot;</span><span class="token builtin class-name">:</span> <span class="token number">33</span>, <span class="token string">&quot;d&quot;</span><span class="token builtin class-name">:</span> <span class="token number">44</span>, <span class="token string">&quot;e&quot;</span><span class="token builtin class-name">:</span> <span class="token number">55</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span>a: <span class="token number">100</span>, b: <span class="token number">2</span>, c: <span class="token number">33</span>, d: <span class="token number">44</span>, e: <span class="token number">55</span><span class="token punctuation">}</span>
h<span class="token punctuation">[</span><span class="token string">&quot;z&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;x&quot;</span><span class="token builtin class-name">:</span> <span class="token number">10</span>, <span class="token string">&quot;y&quot;</span><span class="token builtin class-name">:</span> <span class="token number">20</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span>a: <span class="token number">100</span>, b: <span class="token number">2</span>, c: <span class="token number">33</span>, d: <span class="token number">44</span>, e: <span class="token number">55</span>, z: <span class="token punctuation">{</span>x: <span class="token number">10</span>, y: <span class="token number">20</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
h<span class="token punctuation">[</span><span class="token string">&quot;1.23&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;string&quot;</span>
<span class="token punctuation">{</span><span class="token number">1.23</span>: string, a: <span class="token number">100</span>, b: <span class="token number">2</span>, c: <span class="token number">33</span>, d: <span class="token number">44</span>, e: <span class="token number">55</span>, z: <span class="token punctuation">{</span>x: <span class="token number">10</span>, y: <span class="token number">20</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
h.d <span class="token operator">=</span> <span class="token number">99</span>
<span class="token punctuation">{</span><span class="token number">1.23</span>: string, a: <span class="token number">100</span>, b: <span class="token number">2</span>, c: <span class="token number">33</span>, d: <span class="token number">99</span>, e: <span class="token number">55</span>, z: <span class="token punctuation">{</span>x: <span class="token number">10</span>, y: <span class="token number">20</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
h.d <span class="token operator">+=</span> <span class="token number">1</span>
<span class="token punctuation">{</span><span class="token number">1.23</span>: string, a: <span class="token number">100</span>, b: <span class="token number">2</span>, c: <span class="token number">33</span>, d: <span class="token number">100</span>, e: <span class="token number">55</span>, z: <span class="token punctuation">{</span>x: <span class="token number">10</span>, y: <span class="token number">20</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
h.z.x <span class="token operator">=</span> <span class="token number">66</span>
<span class="token punctuation">{</span><span class="token number">1.23</span>: string, a: <span class="token number">100</span>, b: <span class="token number">2</span>, c: <span class="token number">33</span>, d: <span class="token number">100</span>, e: <span class="token number">55</span>, z: <span class="token punctuation">{</span>x: <span class="token number">66</span>, y: <span class="token number">20</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
h.f <span class="token operator">=</span> <span class="token number">88</span>
<span class="token punctuation">{</span><span class="token number">1.23</span>: string, a: <span class="token number">100</span>, b: <span class="token number">2</span>, c: <span class="token number">33</span>, d: <span class="token number">100</span>, e: <span class="token number">55</span>, f: <span class="token number">88</span>, z: <span class="token punctuation">{</span>x: <span class="token number">66</span>, y: <span class="token number">20</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
Error: assign to non-hash property
s <span class="token operator">=</span> <span class="token string">&quot;string&quot;</span>
s.ok <span class="token operator">=</span> <span class="token boolean">true</span>
ERROR: can only assign to <span class="token builtin class-name">hash</span> property, got STRING
	<span class="token punctuation">[</span><span class="token number">66</span>:2<span class="token punctuation">]</span>	s.ok <span class="token operator">=</span> <span class="token boolean">true</span>
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
Error: <span class="token function">add</span> number to null <span class="token builtin class-name">hash</span> property
h.g <span class="token operator">+=</span> <span class="token number">1</span>
ERROR: <span class="token builtin class-name">type</span> mismatch: NULL + NUMBER
	<span class="token punctuation">[</span><span class="token number">72</span>:5<span class="token punctuation">]</span>	h.g <span class="token operator">+=</span> <span class="token number">1</span>
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
Error: <span class="token function">add</span> number to null <span class="token builtin class-name">hash</span> element
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> h<span class="token punctuation">[</span><span class="token string">&quot;g&quot;</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span>
ERROR: <span class="token builtin class-name">type</span> mismatch: NULL + NUMBER
	<span class="token punctuation">[</span><span class="token number">78</span>:8<span class="token punctuation">]</span>	h<span class="token punctuation">[</span><span class="token string">&quot;g&quot;</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/misc/runtime/" class="prev">
        Runtime
      </a></span> <span class="next"><a href="/misc/upgrade-from-abs-1-to-2/">
        Upgrading from ABS 1 to 2
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.cf29175a.js" defer></script><script src="/assets/js/2.9eadad48.js" defer></script><script src="/assets/js/1.f429aa72.js" defer></script><script src="/assets/js/33.580f334a.js" defer></script>
  </body>
</html>
